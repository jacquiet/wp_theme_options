!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.Chartist=t()}):"object"==typeof exports?module.exports=t():e.Chartist=t()}(this,function(){var e={version:"0.9.8"};return function(e,t,n){"use strict";n.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},n.noop=function(e){return e},n.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},n.extend=function(e){e=e||{};var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){for(var i in t)"object"!=typeof t[i]||null===t[i]||t[i]instanceof Array?e[i]=t[i]:e[i]=n.extend({},e[i],t[i])}),e},n.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},n.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},n.quantity=function(e){if("string"==typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},n.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)},n.times=function(e){return Array.apply(null,new Array(e))},n.sum=function(e,t){return e+(t?t:0)},n.mapMultiply=function(e){return function(t){return t*e}},n.mapAdd=function(e){return function(t){return t+e}},n.serialMap=function(e,t){var i=[],a=Math.max.apply(null,e.map(function(e){return e.length}));return n.times(a).forEach(function(n,a){var r=e.map(function(e){return e[a]});i[a]=t.apply(null,r)}),i},n.roundWithPrecision=function(e,t){var i=Math.pow(10,t||n.precision);return Math.round(e*i)/i},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(e){return null===e||void 0===e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,t,n.escapingMap[t])},e))},n.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,n.escapingMap[t],t)},e);try{e=JSON.parse(e),e=void 0!==e.data?e.data:e}catch(e){}return e},n.createSvg=function(e,t,i,a){var r;return t=t||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS(n.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),r=new n.Svg("svg").attr({width:t,height:i}).addClass(a).attr({style:"width: "+t+"; height: "+i+";"}),e.appendChild(r._node),r},n.normalizeData=function(e){if(e=e||{series:[],labels:[]},e.series=e.series||[],e.labels=e.labels||[],e.series.length>0&&0===e.labels.length){var t,i=n.getDataArray(e);t=i.every(function(e){return e instanceof Array})?Math.max.apply(null,i.map(function(e){return e.length})):i.length,e.labels=n.times(t).map(function(){return""})}return e},n.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},n.getDataArray=function(e,t,i){function a(e){if(!n.isFalseyButZero(e)){if((e.data||e)instanceof Array)return(e.data||e).map(a);if(e.hasOwnProperty("value"))return a(e.value);if(i){var t={};return"string"==typeof i?t[i]=n.getNumberOrUndefined(e):t.y=n.getNumberOrUndefined(e),t.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):t.x,t.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):t.y,t}return n.getNumberOrUndefined(e)}}return(t&&!e.reversed||!t&&e.reversed)&&(n.reverseData(e),e.reversed=!e.reversed),e.series.map(a)},n.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},n.getMetaData=function(e,t){var i=e.data?e.data[t]:e[t];return i?n.serialize(i.meta):void 0},n.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},n.projectLength=function(e,t,n){return t/n.range*e},n.getAvailableHeight=function(e,t){return Math.max((n.quantity(t.height).value||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)},n.getHighLow=function(e,t,i){function a(e){if(void 0!==e)if(e instanceof Array)for(var t=0;t<e.length;t++)a(e[t]);else{var n=i?+e[i]:+e;o&&n>r.high&&(r.high=n),s&&n<r.low&&(r.low=n)}}t=n.extend({},t,i?t["axis"+i.toUpperCase()]:{});var r={high:void 0===t.high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},o=void 0===t.high,s=void 0===t.low;return(o||s)&&a(e),(t.referenceValue||0===t.referenceValue)&&(r.high=Math.max(t.referenceValue,r.high),r.low=Math.min(t.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:r.high>0?r.low=0:(r.high=1,r.low=0)),r},n.isNum=function(e){return!isNaN(e)&&isFinite(e)},n.isFalseyButZero=function(e){return!e&&0!==e},n.getNumberOrUndefined=function(e){return isNaN(+e)?void 0:+e},n.getMultiValue=function(e,t){return n.isNum(e)?+e:e?e[t||"y"]||0:0},n.rho=function(e){function t(e,n){return e%n===0?n:t(n,e%n)}function n(e){return e*e+1}if(1===e)return e;var i,a=2,r=2;if(e%2===0)return 2;do a=n(a)%e,r=n(n(r))%e,i=t(Math.abs(a-r),e);while(1===i);return i},n.getBounds=function(e,t,i,a){var r,o,s,l=0,c={high:t.high,low:t.low};c.valueRange=c.high-c.low,c.oom=n.orderOfMagnitude(c.valueRange),c.step=Math.pow(10,c.oom),c.min=Math.floor(c.low/c.step)*c.step,c.max=Math.ceil(c.high/c.step)*c.step,c.range=c.max-c.min,c.numberOfSteps=Math.round(c.range/c.step);var u=n.projectLength(e,c.step,c),d=u<i,h=a?n.rho(c.range):0;if(a&&n.projectLength(e,1,c)>=i)c.step=1;else if(a&&h<c.step&&n.projectLength(e,h,c)>=i)c.step=h;else for(;;){if(d&&n.projectLength(e,c.step,c)<=i)c.step*=2;else{if(d||!(n.projectLength(e,c.step/2,c)>=i))break;if(c.step/=2,a&&c.step%1!==0){c.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var p=2.221e-16;for(c.step=Math.max(c.step,p),o=c.min,s=c.max;o+c.step<=c.low;)o+=c.step;for(;s-c.step>=c.high;)s-=c.step;c.min=o,c.max=s,c.range=c.max-c.min;var f=[];for(r=c.min;r<=c.max;r+=c.step){var m=n.roundWithPrecision(r);m!==f[f.length-1]&&f.push(r)}return c.values=f,c},n.polarToCartesian=function(e,t,n,i){var a=(i-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}},n.createChartRect=function(e,t,i){var a=!(!t.axisX&&!t.axisY),r=a?t.axisY.offset:0,o=a?t.axisX.offset:0,s=e.width()||n.quantity(t.width).value||0,l=e.height()||n.quantity(t.height).value||0,c=n.normalizePadding(t.chartPadding,i);s=Math.max(s,r+c.left+c.right),l=Math.max(l,o+c.top+c.bottom);var u={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return a?("start"===t.axisX.position?(u.y2=c.top+o,u.y1=Math.max(l-c.bottom,u.y2+1)):(u.y2=c.top,u.y1=Math.max(l-c.bottom-o,u.y2+1)),"start"===t.axisY.position?(u.x1=c.left+r,u.x2=Math.max(s-c.right,u.x1+1)):(u.x1=c.left,u.x2=Math.max(s-c.right-r,u.x1+1))):(u.x1=c.left,u.x2=Math.max(s-c.right,u.x1+1),u.y2=c.top,u.y1=Math.max(l-c.bottom,u.y2+1)),u},n.createGrid=function(e,t,i,a,r,o,s,l){var c={};c[i.units.pos+"1"]=e,c[i.units.pos+"2"]=e,c[i.counterUnits.pos+"1"]=a,c[i.counterUnits.pos+"2"]=a+r;var u=o.elem("line",c,s.join(" "));l.emit("draw",n.extend({type:"grid",axis:i,index:t,group:o,element:u},c))},n.createLabel=function(e,t,i,a,r,o,s,l,c,u,d){var h,p={};if(p[r.units.pos]=e+s[r.units.pos],p[r.counterUnits.pos]=s[r.counterUnits.pos],p[r.units.len]=t,p[r.counterUnits.len]=Math.max(0,o-10),u){var f='<span class="'+c.join(" ")+'" style="'+r.units.len+": "+Math.round(p[r.units.len])+"px; "+r.counterUnits.len+": "+Math.round(p[r.counterUnits.len])+'px">'+a[i]+"</span>";h=l.foreignObject(f,n.extend({style:"overflow: visible;"},p))}else h=l.elem("text",p,c.join(" ")).text(a[i]);d.emit("draw",n.extend({type:"label",axis:r,index:i,group:l,element:h,text:a[i]},p))},n.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}return t[n]},n.optionsProvider=function(t,i,a){function r(t){var r=s;if(s=n.extend({},c),i)for(l=0;l<i.length;l++){var o=e.matchMedia(i[l][0]);o.matches&&(s=n.extend(s,i[l][1]))}a&&t&&a.emit("optionsChanged",{previousOptions:r,currentOptions:s})}function o(){u.forEach(function(e){e.removeListener(r)})}var s,l,c=n.extend({},t),u=[];if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(l=0;l<i.length;l++){var d=e.matchMedia(i[l][0]);d.addListener(r),u.push(d)}return r(),{removeMediaQueryListeners:o,getCurrentOptions:function(){return n.extend({},s)}}},n.splitIntoSegments=function(e,t,i){var a={increasingX:!1,fillHoles:!1};i=n.extend({},a,i);for(var r=[],o=!0,s=0;s<e.length;s+=2)void 0===t[s/2].value?i.fillHoles||(o=!0):(i.increasingX&&s>=2&&e[s]<=e[s-2]&&(o=!0),o&&(r.push({pathCoordinates:[],valueData:[]}),o=!1),r[r.length-1].pathCoordinates.push(e[s],e[s+1]),r[r.length-1].valueData.push(t[s/2]));return r}}(window,document,e),function(e,t,n){"use strict";n.Interpolation={},n.Interpolation.none=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function(t,i){for(var a=new n.Svg.Path,r=!0,o=0;o<t.length;o+=2){var s=t[o],l=t[o+1],c=i[o/2];void 0!==c.value?(r?a.move(s,l,!1,c):a.line(s,l,!1,c),r=!1):e.fillHoles||(r=!0)}return a}},n.Interpolation.simple=function(e){var t={divisor:2,fillHoles:!1};e=n.extend({},t,e);var i=1/Math.max(1,e.divisor);return function(t,a){for(var r,o,s,l=new n.Svg.Path,c=0;c<t.length;c+=2){var u=t[c],d=t[c+1],h=(u-r)*i,p=a[c/2];void 0!==p.value?(void 0===s?l.move(u,d,!1,p):l.curve(r+h,o,u-h,d,u,d,!1,p),r=u,o=d,s=p):e.fillHoles||(r=u=s=void 0)}return l}},n.Interpolation.cardinal=function(e){var t={tension:1,fillHoles:!1};e=n.extend({},t,e);var i=Math.min(1,Math.max(0,e.tension)),a=1-i;return function t(r,o){var s=n.splitIntoSegments(r,o,{fillHoles:e.fillHoles});if(s.length){if(s.length>1){var l=[];return s.forEach(function(e){l.push(t(e.pathCoordinates,e.valueData))}),n.Svg.Path.join(l)}if(r=s[0].pathCoordinates,o=s[0].valueData,r.length<=4)return n.Interpolation.none()(r,o);for(var c,u=(new n.Svg.Path).move(r[0],r[1],!1,o[0]),d=0,h=r.length;h-2*!c>d;d+=2){var p=[{x:+r[d-2],y:+r[d-1]},{x:+r[d],y:+r[d+1]},{x:+r[d+2],y:+r[d+3]},{x:+r[d+4],y:+r[d+5]}];c?d?h-4===d?p[3]={x:+r[0],y:+r[1]}:h-2===d&&(p[2]={x:+r[0],y:+r[1]},p[3]={x:+r[2],y:+r[3]}):p[0]={x:+r[h-2],y:+r[h-1]}:h-4===d?p[3]=p[2]:d||(p[0]={x:+r[d],y:+r[d+1]}),u.curve(i*(-p[0].x+6*p[1].x+p[2].x)/6+a*p[2].x,i*(-p[0].y+6*p[1].y+p[2].y)/6+a*p[2].y,i*(p[1].x+6*p[2].x-p[3].x)/6+a*p[2].x,i*(p[1].y+6*p[2].y-p[3].y)/6+a*p[2].y,p[2].x,p[2].y,!1,o[(d+2)/2])}return u}return n.Interpolation.none()([])}},n.Interpolation.monotoneCubic=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function t(i,a){var r=n.splitIntoSegments(i,a,{fillHoles:e.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var o=[];return r.forEach(function(e){o.push(t(e.pathCoordinates,e.valueData))}),n.Svg.Path.join(o)}if(i=r[0].pathCoordinates,a=r[0].valueData,i.length<=4)return n.Interpolation.none()(i,a);var s,l,c=[],u=[],d=i.length/2,h=[],p=[],f=[],m=[];for(s=0;s<d;s++)c[s]=i[2*s],u[s]=i[2*s+1];for(s=0;s<d-1;s++)f[s]=u[s+1]-u[s],m[s]=c[s+1]-c[s],p[s]=f[s]/m[s];for(h[0]=p[0],h[d-1]=p[d-2],s=1;s<d-1;s++)0===p[s]||0===p[s-1]||p[s-1]>0!=p[s]>0?h[s]=0:(h[s]=3*(m[s-1]+m[s])/((2*m[s]+m[s-1])/p[s-1]+(m[s]+2*m[s-1])/p[s]),isFinite(h[s])||(h[s]=0));for(l=(new n.Svg.Path).move(c[0],u[0],!1,a[0]),s=0;s<d-1;s++)l.curve(c[s]+m[s]/3,u[s]+h[s]*m[s]/3,c[s+1]-m[s]/3,u[s+1]-h[s+1]*m[s]/3,c[s+1],u[s+1],!1,a[s+1]);return l}return n.Interpolation.none()([])}},n.Interpolation.step=function(e){var t={postpone:!0,fillHoles:!1};return e=n.extend({},t,e),function(t,i){for(var a,r,o,s=new n.Svg.Path,l=0;l<t.length;l+=2){var c=t[l],u=t[l+1],d=i[l/2];void 0!==d.value?(void 0===o?s.move(c,u,!1,d):(e.postpone?s.line(c,r,!1,o):s.line(a,u,!1,d),s.line(c,u,!1,d)),a=c,r=u,o=d):e.fillHoles||(a=r=o=void 0)}return s}}}(window,document,e),function(e,t,n){"use strict";n.EventEmitter=function(){function e(e,t){i[e]=i[e]||[],i[e].push(t)}function t(e,t){i[e]&&(t?(i[e].splice(i[e].indexOf(t),1),0===i[e].length&&delete i[e]):delete i[e])}function n(e,t){i[e]&&i[e].forEach(function(e){e(t)}),i["*"]&&i["*"].forEach(function(n){n(e,t)})}var i=[];return{addEventHandler:e,removeEventHandler:t,emit:n}}}(window,document,e),function(e,t,n){"use strict";function i(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}function a(e,t){var i=t||this.prototype||n.Class,a=Object.create(i);n.Class.cloneDefinitions(a,e);var r=function(){var e,t=a.constructor||function(){};return e=this===n?Object.create(a):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return r.prototype=a,r.super=i,r.extend=this.extend,r}function r(){var e=i(arguments),t=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}),t}n.Class={extend:a,cloneDefinitions:r}}(window,document,e),function(e,t,n){"use strict";function i(e,t,i){return e&&(this.data=e,this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=n.extend({},i?this.options:this.defaultOptions,t),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function a(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(e,t){return this.eventEmitter.addEventHandler(e,t),this}function o(e,t){return this.eventEmitter.removeEventHandler(e,t),this}function s(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(e,t,i,a,r){this.container=n.querySelector(e),this.data=t,this.defaultOptions=i,this.options=a,this.responsiveOptions=r,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}n.Base=n.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:i,detach:a,on:r,off:o,version:n.version,supportsForeignObject:!1})}(window,document,e),function(e,t,n){"use strict";function i(e,i,a,r,o){e instanceof Element?this._node=e:(this._node=t.createElementNS(n.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":n.namespaces.ct})),i&&this.attr(i),a&&this.addClass(a),r&&(o&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}function a(e,t){return"string"==typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(t){if(void 0!==e[t])if(t.indexOf(":")!==-1){var i=t.split(":");this._node.setAttributeNS(n.namespaces[i[0]],t,e[t])}else this._node.setAttribute(t,e[t])}.bind(this)),this)}function r(e,t,i,a){return new n.Svg(e,t,i,this,a)}function o(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function s(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new n.Svg(e)}function l(e){var t=this._node.querySelector(e);return t?new n.Svg(t):null}function c(e){var t=this._node.querySelectorAll(e);return t.length?new n.Svg.List(t):null}function u(e,i,a,r){if("string"==typeof e){var o=t.createElement("div");o.innerHTML=e,e=o.firstChild}e.setAttribute("xmlns",n.namespaces.xmlns);var s=this.elem("foreignObject",i,a,r);return s._node.appendChild(e),s}function d(e){return this._node.appendChild(t.createTextNode(e)),this}function h(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function p(){return this._node.parentNode.removeChild(this._node),this.parent()}function f(e){return this._node.parentNode.replaceChild(e._node,this._node),e}function m(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}function g(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(e){var t=this.classes(this._node).concat(e.trim().split(/\s+/));return this._node.setAttribute("class",t.filter(function(e,n){return t.indexOf(e)===n}).join(" ")),this}function y(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return t.indexOf(e)===-1}).join(" ")),this}function x(){return this._node.setAttribute("class",""),this}function b(){return this._node.getBoundingClientRect().height}function w(){return this._node.getBoundingClientRect().width}function C(e,t,i){return void 0===t&&(t=!0),Object.keys(e).forEach(function(a){function r(e,t){var r,o,s,l={};e.easing&&(s=e.easing instanceof Array?e.easing:n.Svg.Easing[e.easing],delete e.easing),e.begin=n.ensureUnit(e.begin,"ms"),e.dur=n.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",l[a]=e.from,this.attr(l),o=n.quantity(e.begin||0).value,e.begin="indefinite"),r=this.elem("animate",n.extend({attributeName:a},e)),t&&setTimeout(function(){try{r._node.beginElement()}catch(t){l[a]=e.to,this.attr(l),r.remove()}}.bind(this),o),i&&r._node.addEventListener("beginEvent",function(){i.emit("animationBegin",{element:this,animate:r._node,params:e})}.bind(this)),r._node.addEventListener("endEvent",function(){i&&i.emit("animationEnd",{element:this,animate:r._node,params:e}),t&&(l[a]=e.to,this.attr(l),r.remove())}.bind(this))}e[a]instanceof Array?e[a].forEach(function(e){r.bind(this)(e,!1)}.bind(this)):r.bind(this)(e[a],t)}.bind(this)),this}function S(e){var t=this;this.svgElements=[];for(var i=0;i<e.length;i++)this.svgElements.push(new n.Svg(e[i]));Object.keys(n.Svg.prototype).filter(function(e){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)===-1}).forEach(function(e){t[e]=function(){var i=Array.prototype.slice.call(arguments,0);return t.svgElements.forEach(function(t){n.Svg.prototype[e].apply(t,i)}),t}})}n.Svg=n.Class.extend({constructor:i,attr:a,elem:r,parent:o,root:s,querySelector:l,querySelectorAll:c,foreignObject:u,text:d,empty:h,remove:p,replace:f,append:m,classes:g,addClass:v,removeClass:y,removeAllClasses:x,height:b,width:w,animate:C}),n.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var I={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};n.Svg.Easing=I,n.Svg.List=n.Class.extend({constructor:S})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,a,r,o){var s=n.extend({command:r?e.toLowerCase():e.toUpperCase()},t,o?{data:o}:{});i.splice(a,0,s)}function a(e,t){e.forEach(function(n,i){b[n.command.toLowerCase()].forEach(function(a,r){t(n,a,i,r,e)})})}function r(e,t){this.pathElements=[],this.pos=0,this.close=e,this.options=n.extend({},w,t)}function o(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}function s(e){return this.pathElements.splice(this.pos,e),this}function l(e,t,n,a){return i("M",{x:+e,y:+t},this.pathElements,this.pos++,n,a),this}function c(e,t,n,a){return i("L",{x:+e,y:+t},this.pathElements,this.pos++,n,a),this}function u(e,t,n,a,r,o,s,l){return i("C",{x1:+e,y1:+t,x2:+n,y2:+a,x:+r,y:+o},this.pathElements,this.pos++,s,l),this}function d(e,t,n,a,r,o,s,l,c){return i("A",{rx:+e,ry:+t,xAr:+n,lAf:+a,sf:+r,x:+o,y:+s},this.pathElements,this.pos++,l,c),this}function h(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e},[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();var i=t.map(function(e){var t=e.shift(),i=b[t.toLowerCase()];return n.extend({command:t},i.reduce(function(t,n,i){return t[n]=+e[i],t},{}))}),a=[this.pos,0];return Array.prototype.push.apply(a,i),Array.prototype.splice.apply(this.pathElements,a),this.pos+=i.length,this}function p(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var i=b[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function f(e,t){return a(this.pathElements,function(n,i){n[i]*="x"===i[0]?e:t}),this}function m(e,t){return a(this.pathElements,function(n,i){n[i]+="x"===i[0]?e:t}),this}function g(e){return a(this.pathElements,function(t,n,i,a,r){var o=e(t,n,i,a,r);(o||0===o)&&(t[n]=o)}),this}function v(e){var t=new n.Svg.Path(e||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map(function(e){return n.extend({},e)}),t.options=n.extend({},this.options),t}function y(e){var t=[new n.Svg.Path];return this.pathElements.forEach(function(i){i.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new n.Svg.Path),t[t.length-1].pathElements.push(i)}),t}function x(e,t,i){for(var a=new n.Svg.Path(t,i),r=0;r<e.length;r++)for(var o=e[r],s=0;s<o.pathElements.length;s++)a.pathElements.push(o.pathElements[s]);return a}var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},w={accuracy:3};n.Svg.Path=n.Class.extend({constructor:r,position:o,remove:s,move:l,line:c,curve:u,arc:d,scale:f,translate:m,transform:g,parse:h,stringify:p,clone:v,splitByCommand:y}),n.Svg.Path.elementDescriptions=b,n.Svg.Path.join=x}(window,document,e),function(e,t,n){"use strict";function i(e,t,n,i){this.units=e,this.counterUnits=e===r.x?r.y:r.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=n,this.options=i}function a(e,t,i,a,r){var o=a["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(o.labelInterpolationFnc);s.forEach(function(c,u){var d,h={x:0,y:0};d=s[u+1]?s[u+1]-c:Math.max(this.axisLength-c,30),n.isFalseyButZero(l[u])&&""!==l[u]||("x"===this.units.pos?(c=this.chartRect.x1+c,h.x=a.axisX.labelOffset.x,"start"===a.axisX.position?h.y=this.chartRect.padding.top+a.axisX.labelOffset.y+(i?5:20):h.y=this.chartRect.y1+a.axisX.labelOffset.y+(i?5:20)):(c=this.chartRect.y1-c,h.y=a.axisY.labelOffset.y-(i?d:0),"start"===a.axisY.position?h.x=i?this.chartRect.padding.left+a.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+a.axisY.labelOffset.x+10),o.showGrid&&n.createGrid(c,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[a.classNames.grid,a.classNames[this.units.dir]],r),o.showLabel&&n.createLabel(c,d,u,l,this,o.offset,h,t,[a.classNames.label,a.classNames[this.units.dir],a.classNames[o.position]],i,r))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};n.Axis=n.Class.extend({constructor:i,createGridAndLabels:a,projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=r}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,a){var r=a.highLow||n.getHighLow(t.normalized,a,e.pos);this.bounds=n.getBounds(i[e.rectEnd]-i[e.rectStart],r,a.scaleMinSpace||20,a.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis.super.constructor.call(this,e,i,this.bounds.values,a)}function a(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:i,projectValue:a})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,a){var r=a.highLow||n.getHighLow(t.normalized,a,e.pos);this.divisor=a.divisor||1,this.ticks=a.ticks||n.times(this.divisor).map(function(e,t){return r.low+(r.high-r.low)/this.divisor*t}.bind(this)),this.ticks.sort(function(e,t){return e-t}),this.range={min:r.low,max:r.high},n.FixedScaleAxis.super.constructor.call(this,e,i,this.ticks,a),this.stepLength=this.axisLength/this.divisor}function a(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:i,projectValue:a})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,a){n.StepAxis.super.constructor.call(this,e,i,a.ticks,a),this.stepLength=this.axisLength/(a.ticks.length-(a.stretch?1:0))}function a(e,t){return this.stepLength*t}n.StepAxis=n.Axis.extend({constructor:i,projectValue:a})}(window,document,e),function(e,t,n){"use strict";function i(e){this.data=n.normalizeData(this.data);var t={raw:this.data,normalized:n.getDataArray(this.data,e.reverseData,!0)};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart);var i,a,o=this.svg.elem("g").addClass(e.classNames.gridGroup),s=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),c=n.createChartRect(this.svg,e,r.padding);i=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t,c,n.extend({},e.axisX,{ticks:t.raw.labels,stretch:e.fullWidth})):e.axisX.type.call(n,n.Axis.units.x,t,c,e.axisX),a=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t,c,n.extend({},e.axisY,{high:n.isNum(e.high)?e.high:e.axisY.high,low:n.isNum(e.low)?e.low:e.axisY.low})):e.axisY.type.call(n,n.Axis.units.y,t,c,e.axisY),i.createGridAndLabels(o,l,this.supportsForeignObject,e,this.eventEmitter),a.createGridAndLabels(o,l,this.supportsForeignObject,e,this.eventEmitter),t.raw.series.forEach(function(r,o){var l=s.elem("g");l.attr({"ct:series-name":r.name,"ct:meta":n.serialize(r.meta)}),l.addClass([e.classNames.series,r.className||e.classNames.series+"-"+n.alphaNumerate(o)].join(" "));var u=[],d=[];t.normalized[o].forEach(function(e,s){var l={x:c.x1+i.projectValue(e,s,t.normalized[o]),y:c.y1-a.projectValue(e,s,t.normalized[o])};u.push(l.x,l.y),d.push({value:e,valueIndex:s,meta:n.getMetaData(r,s)})}.bind(this));var h={lineSmooth:n.getSeriesOption(r,e,"lineSmooth"),showPoint:n.getSeriesOption(r,e,"showPoint"),showLine:n.getSeriesOption(r,e,"showLine"),showArea:n.getSeriesOption(r,e,"showArea"),areaBase:n.getSeriesOption(r,e,"areaBase")},p="function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?n.Interpolation.monotoneCubic():n.Interpolation.none(),f=p(u,d);if(h.showPoint&&f.pathElements.forEach(function(t){var s=l.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(n.isNum).join(","),"ct:meta":t.data.meta});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:r,seriesIndex:o,axisX:i,axisY:a,group:l,element:s,x:t.x,y:t.y})}.bind(this)),h.showLine){var m=l.elem("path",{d:f.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.normalized[o],path:f.clone(),chartRect:c,index:o,series:r,seriesIndex:o,axisX:i,axisY:a,group:l,element:m})}if(h.showArea&&a.range){var g=Math.max(Math.min(h.areaBase,a.range.max),a.range.min),v=c.y1-a.projectValue(g);f.splitByCommand("M").filter(function(e){return e.pathElements.length>1}).map(function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,v).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,v)}).forEach(function(n){var s=l.elem("path",{d:n.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:t.normalized[o],path:n.clone(),series:r,seriesIndex:o,axisX:i,axisY:a,chartRect:c,index:o,group:l,element:s})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:a.bounds,chartRect:c,axisX:i,axisY:a,svg:this.svg,options:e})}function a(e,t,i,a){n.Line.super.constructor.call(this,e,t,r,n.extend({},r,i),a)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Line=n.Base.extend({constructor:a,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e){this.data=n.normalizeData(this.data);var t,i={raw:this.data,normalized:e.distributeSeries?n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y").map(function(e){return[e]}):n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y")};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var a=this.svg.elem("g").addClass(e.classNames.gridGroup),o=this.svg.elem("g"),s=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==i.normalized.length){var l=n.serialMap(i.normalized,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}},{x:0,y:0})});t=n.getHighLow([l],n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y")}else t=n.getHighLow(i.normalized,n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y");t.high=+e.high||(0===e.high?0:t.high),t.low=+e.low||(0===e.low?0:t.low);var c,u,d,h,p,f=n.createChartRect(this.svg,e,r.padding);u=e.distributeSeries&&e.stackBars?i.raw.labels.slice(0,1):i.raw.labels,e.horizontalBars?(c=h=void 0===e.axisX.type?new n.AutoScaleAxis(n.Axis.units.x,i,f,n.extend({},e.axisX,{highLow:t,referenceValue:0})):e.axisX.type.call(n,n.Axis.units.x,i,f,n.extend({},e.axisX,{highLow:t,referenceValue:0})),d=p=void 0===e.axisY.type?new n.StepAxis(n.Axis.units.y,i,f,{ticks:u}):e.axisY.type.call(n,n.Axis.units.y,i,f,e.axisY)):(d=h=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,i,f,{ticks:u}):e.axisX.type.call(n,n.Axis.units.x,i,f,e.axisX),c=p=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,i,f,n.extend({},e.axisY,{highLow:t,referenceValue:0})):e.axisY.type.call(n,n.Axis.units.y,i,f,n.extend({},e.axisY,{highLow:t,referenceValue:0})));var m=e.horizontalBars?f.x1+c.projectValue(0):f.y1-c.projectValue(0),g=[];
d.createGridAndLabels(a,s,this.supportsForeignObject,e,this.eventEmitter),c.createGridAndLabels(a,s,this.supportsForeignObject,e,this.eventEmitter),i.raw.series.forEach(function(t,a){var r,s,l=a-(i.raw.series.length-1)/2;r=e.distributeSeries&&!e.stackBars?d.axisLength/i.normalized.length/2:e.distributeSeries&&e.stackBars?d.axisLength/2:d.axisLength/i.normalized[a].length/2,s=o.elem("g"),s.attr({"ct:series-name":t.name,"ct:meta":n.serialize(t.meta)}),s.addClass([e.classNames.series,t.className||e.classNames.series+"-"+n.alphaNumerate(a)].join(" ")),i.normalized[a].forEach(function(o,u){var v,y,x,b;if(b=e.distributeSeries&&!e.stackBars?a:e.distributeSeries&&e.stackBars?0:u,v=e.horizontalBars?{x:f.x1+c.projectValue(o&&o.x?o.x:0,u,i.normalized[a]),y:f.y1-d.projectValue(o&&o.y?o.y:0,b,i.normalized[a])}:{x:f.x1+d.projectValue(o&&o.x?o.x:0,b,i.normalized[a]),y:f.y1-c.projectValue(o&&o.y?o.y:0,u,i.normalized[a])},d instanceof n.StepAxis&&(d.options.stretch||(v[d.units.pos]+=r*(e.horizontalBars?-1:1)),v[d.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),x=g[u]||m,g[u]=x-(m-v[d.counterUnits.pos]),void 0!==o){var w={};w[d.units.pos+"1"]=v[d.units.pos],w[d.units.pos+"2"]=v[d.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(w[d.counterUnits.pos+"1"]=m,w[d.counterUnits.pos+"2"]=v[d.counterUnits.pos]):(w[d.counterUnits.pos+"1"]=x,w[d.counterUnits.pos+"2"]=g[u]),w.x1=Math.min(Math.max(w.x1,f.x1),f.x2),w.x2=Math.min(Math.max(w.x2,f.x1),f.x2),w.y1=Math.min(Math.max(w.y1,f.y2),f.y1),w.y2=Math.min(Math.max(w.y2,f.y2),f.y1),y=s.elem("line",w,e.classNames.bar).attr({"ct:value":[o.x,o.y].filter(n.isNum).join(","),"ct:meta":n.getMetaData(t,u)}),this.eventEmitter.emit("draw",n.extend({type:"bar",value:o,index:u,meta:n.getMetaData(t,u),series:t,seriesIndex:a,axisX:h,axisY:p,chartRect:f,group:s,element:y},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:f,axisX:h,axisY:p,svg:this.svg,options:e})}function a(e,t,i,a){n.Bar.super.constructor.call(this,e,t,r,n.extend({},r,i),a)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Bar=n.Base.extend({constructor:a,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e,t,n){var i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}function a(e){this.data=n.normalizeData(this.data);var t,a,r,s,l,c=[],u=e.startAngle,d=n.getDataArray(this.data,e.reverseData);this.svg=n.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),a=n.createChartRect(this.svg,e,o.padding),r=Math.min(a.width()/2,a.height()/2),l=e.total||d.reduce(function(e,t){return e+t},0);var h=n.quantity(e.donutWidth);"%"===h.unit&&(h.value*=r/100),r-=e.donut?h.value/2:0,s="outside"===e.labelPosition||e.donut?r:"center"===e.labelPosition?0:r/2,s+=e.labelOffset;var p={x:a.x1+a.width()/2,y:a.y2+a.height()/2},f=1===this.data.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;e.showLabel&&(t=this.svg.elem("g",null,null,!0));for(var m=0;m<this.data.series.length;m++)if(0!==d[m]||!e.ignoreEmptyValues){var g=this.data.series[m];c[m]=this.svg.elem("g",null,null,!0),c[m].attr({"ct:series-name":g.name}),c[m].addClass([e.classNames.series,g.className||e.classNames.series+"-"+n.alphaNumerate(m)].join(" "));var v=u+d[m]/l*360,y=Math.max(0,u-(0===m||f?0:.2));v-y>=359.99&&(v=y+359.99);var x=n.polarToCartesian(p.x,p.y,r,y),b=n.polarToCartesian(p.x,p.y,r,v),w=new n.Svg.Path(!e.donut).move(b.x,b.y).arc(r,r,0,v-u>180,0,x.x,x.y);e.donut||w.line(p.x,p.y);var C=c[m].elem("path",{d:w.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(C.attr({"ct:value":d[m],"ct:meta":n.serialize(g.meta)}),e.donut&&C.attr({style:"stroke-width: "+h.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:d[m],totalDataSum:l,index:m,meta:g.meta,series:g,group:c[m],element:C,path:w.clone(),center:p,radius:r,startAngle:u,endAngle:v}),e.showLabel){var S=n.polarToCartesian(p.x,p.y,s,u+(v-u)/2),I=e.labelInterpolationFnc(this.data.labels&&!n.isFalseyButZero(this.data.labels[m])?this.data.labels[m]:d[m],m);if(I||0===I){var k=t.elem("text",{dx:S.x,dy:S.y,"text-anchor":i(p,S,e.labelDirection)},e.classNames.label).text(""+I);this.eventEmitter.emit("draw",{type:"label",index:m,group:t,element:k,text:""+I,x:S.x,y:S.y})}}u=v}this.eventEmitter.emit("created",{chartRect:a,svg:this.svg,options:e})}function r(e,t,i,a){n.Pie.super.constructor.call(this,e,t,o,n.extend({},o,i),a)}var o={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};n.Pie=n.Base.extend({constructor:r,createChart:a,determineAnchorPosition:i})}(window,document,e),e}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,i,a,r,o,s="Close",l="BeforeClose",c="AfterClose",u="BeforeAppend",d="MarkupParse",h="Open",p="Change",f="mfp",m="."+f,g="mfp-ready",v="mfp-removing",y="mfp-prevent-close",x=function(){},b=!!window.jQuery,w=e(window),C=function(e,n){t.ev.on(f+e+m,n)},S=function(t,n,i,a){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),a?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},I=function(n,i){t.ev.triggerHandler(f+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},k=function(n){return n===o&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),o=n),t.currTemplate.closeBtn},P=function(){e.magnificPopup.instance||(t=new x,t.init(),e.magnificPopup.instance=t)},E=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};x.prototype={constructor:x,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=E(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var a;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var o,s=n.items;for(a=0;a<s.length;a++)if(o=s[a],o.parsed&&(o=o.el[0]),o===n.el[0]){t.index=a;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],r="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=S("bg").on("click"+m,function(){t.close()}),t.wrap=S("wrap").attr("tabindex",-1).on("click"+m,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=S("container",t.wrap)),t.contentContainer=S("content"),t.st.preloader&&(t.preloader=S("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(a=0;a<l.length;a++){var c=l[a];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}I("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(C(d,function(e,t,n,i){n.close_replaceWith=k(i.type)}),r+=" mfp-close-btn-in"):t.wrap.append(k())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:w.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),w.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var u=t.wH=w.height(),p={};if(t.fixedContentPos&&t._hasScrollBar(u)){var f=t._getScrollbarSize();f&&(p.marginRight=f)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):p.overflow="hidden");var v=t.st.mainClass;return t.isIE7&&(v+=" mfp-ie7"),v&&t._addClassToMFP(v),t.updateItemHTML(),I("BuildControls"),e("html").css(p),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(g),t._setFocus()):t.bgOverlay.addClass(g),i.on("focusin"+m,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),I(h),n},close:function(){t.isOpen&&(I(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){I(s);var n=v+" "+g+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var a={marginRight:""};t.isIE7?e("body, html").css("overflow",""):a.overflow="",e("html").css(a)}i.off("keyup"+m+" focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,I(c)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||w.height();t.fixedContentPos||t.wrap.css("height",t.wH),I("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(I("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var r=!!t.st[i]&&t.st[i].markup;I("FirstMarkupParse",r),r?t.currTemplate[i]=e(r):t.currTemplate[i]=!0}a&&a!==n.type&&t.container.removeClass("mfp-"+a+"-holder");var o=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(o,i),n.preloaded=!0,I(p,n),a=n.type,t.container.prepend(t.contentContainer),I("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(k()):t.content=e:t.content="",I(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,a=t.items[n];if(a.tagName?a={el:e(a)}:(i=a.type,a={data:a,src:a.src}),a.el){for(var r=t.types,o=0;o<r.length;o++)if(a.el.hasClass("mfp-"+r[o])){i=r[o];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=i||t.st.type||"inline",a.index=n,a.parsed=!0,t.items[n]=a,I("ElementParse",a),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var a="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(a).on(a,i)):(n.isObj=!1,n.delegate?e.off(a).on(a,n.delegate,i):(n.items=e,e.off(a).on(a,i)))},_openClick:function(n,i,a){var r=void 0!==a.midClick?a.midClick:e.magnificPopup.defaults.midClick;if(r||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var o=void 0!==a.disableOn?a.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(w.width()<o)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),a.el=e(n.mfpEl),a.delegate&&(a.items=i.find(a.delegate)),t.open(a)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var a={status:e,text:i};I("UpdateStatus",a),e=a.status,i=a.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,a=t.st.closeOnBgClick;if(i&&a)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(a&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||w.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){if(n.target!==t.wrap[0]&&!e.contains(t.wrap[0],n.target))return t._setFocus(),!1},_parseMarkup:function(t,n,i){var a;i.data&&(n=e.extend(i.data,n)),I(d,[t,n,i]),e.each(n,function(n,i){if(void 0===i||i===!1)return!0;if(a=n.split("_"),a.length>1){var r=t.find(m+"-"+a[0]);if(r.length>0){var o=a[1];"replaceWith"===o?r[0]!==i[0]&&r.replaceWith(i):"img"===o?r.is("img")?r.attr("src",i):r.replaceWith(e("<img>").attr("src",i).attr("class",r.attr("class"))):r.attr(a[1],i)}}else t.find(m+"-"+n).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:x.prototype,modules:[],open:function(t,n){return P(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){P();var i=e(this);if("string"==typeof n)if("open"===n){var a,r=b?i.data("magnificPopup"):i[0].magnificPopup,o=parseInt(arguments[1],10)||0;r.items?a=r.items[o]:(a=i,r.delegate&&(a=a.find(r.delegate)),a=a.eq(o)),t._openClick({mfpEl:a},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),b?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var A,O,z,T="inline",M=function(){z&&(O.after(z.addClass(A)).detach(),z=null)};e.magnificPopup.registerModule(T,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(T),C(s+"."+T,function(){M()})},getInline:function(n,i){if(M(),n.src){var a=t.st.inline,r=e(n.src);if(r.length){var o=r[0].parentNode;o&&o.tagName&&(O||(A=a.hiddenClass,O=S(A),A="mfp-"+A),z=r.after(O).detach().removeClass(A)),t.updateStatus("ready")}else t.updateStatus("error",a.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var B,L="ajax",$=function(){B&&e(document.body).removeClass(B)},N=function(){$(),t.req&&t.req.abort()};e.magnificPopup.registerModule(L,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(L),B=t.st.ajax.cursor,C(s+"."+L,N),C("BeforeChange."+L,N)},getAjax:function(n){B&&e(document.body).addClass(B),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,a,r){var o={data:i,xhr:r};I("ParseAjax",o),t.appendContent(e(o.data),L),n.finished=!0,$(),t._setFocus(),setTimeout(function(){t.wrap.addClass(g)},16),t.updateStatus("ready"),I("AjaxContentAdded")},error:function(){$(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var _,j=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),C(h+i,function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)}),C(s+i,function(){n.cursor&&e(document.body).removeClass(n.cursor),w.off("resize"+m)}),C("Resize"+i,t.resizeImage),t.isLowIE&&C("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,_&&clearInterval(_),e.isCheckingImgSize=!1,I("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],a=function(r){_&&clearInterval(_),_=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(_),n++,void(3===n?a(10):40===n?a(50):100===n&&a(500)))},r)};a(1)},getImage:function(n,i){var a=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,I("ImageLoadComplete")):(a++,a<200?setTimeout(r,100):o()))},o=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.el&&n.el.find("img").length&&(c.alt=n.el.find("img").attr("alt")),n.img=e(c).on("load.mfploader",r).on("error.mfploader",o),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:j(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(_&&clearInterval(_),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var D,H=function(){return void 0===D&&(D=void 0!==document.createElement("p").style.MozTransform),D};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var a,r,o=n.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return a["-webkit-"+r]=a["-moz-"+r]=a["-o-"+r]=a[r]=i,t.css(a),t},u=function(){t.content.css("visibility","visible")};C("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(a),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();r=c(e),r.css(t._getOffset()),t.wrap.append(r),a=setTimeout(function(){r.css(t._getOffset(!0)),a=setTimeout(function(){u(),setTimeout(function(){r.remove(),e=r=null,I("ZoomAnimationEnded")},16)},o)},16)}}),C(l+i,function(){if(t._allowZoom()){if(clearTimeout(a),t.st.removalDelay=o,!e){if(e=t._getItemToZoom(),!e)return;r=c(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),C(s+i,function(){t._allowZoom()&&(u(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var a=i.offset(),r=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);a.top-=e(window).scrollTop()-r;var s={width:i.width(),height:(b?i.innerHeight():i[0].offsetHeight)-o-r};return H()?s["-moz-transform"]=s.transform="translate("+a.left+"px,"+a.top+"px)":(s.left=a.left,s.top=a.top),s}}});var R="iframe",F="//about:blank",q=function(e){if(t.currTemplate[R]){var n=t.currTemplate[R].find("iframe");n.length&&(e||(n[0].src=F),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(R),C("BeforeChange",function(e,t,n){t!==n&&(t===R?q():n===R&&q(!0))}),C(s+"."+R,function(){q()})},getIframe:function(n,i){var a=n.src,r=t.st.iframe;e.each(r.patterns,function(){if(a.indexOf(this.index)>-1)return this.id&&(a="string"==typeof this.id?a.substr(a.lastIndexOf(this.id)+this.id.length,a.length):this.id.call(this,a)),a=this.src.replace("%id%",a),!1});var o={};return r.srcAction&&(o[r.srcAction]=a),t._parseMarkup(i,o,n),t.updateStatus("ready"),i}}});var X=function(e){var n=t.items.length;return e>n-1?e-n:e<0?n+e:e},U=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,a=".mfp-gallery";return t.direction=!0,!(!n||!n.enabled)&&(r+=" mfp-gallery",C(h+a,function(){n.navigateByImgClick&&t.wrap.on("click"+a,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),i.on("keydown"+a,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),C("UpdateStatus"+a,function(e,n){n.text&&(n.text=U(n.text,t.currItem.index,t.items.length))}),C(d+a,function(e,i,a,r){var o=t.items.length;a.counter=o>1?U(n.tCounter,r.index,o):""}),C("BuildControls"+a,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,a=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),r=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y);a.click(function(){t.prev()}),r.click(function(){t.next()}),t.container.append(a.add(r))}}),C(p+a,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void C(s+a,function(){i.off(a),t.wrap.off("click"+a),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=X(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=X(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),a=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?a:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:a);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=X(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),I("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,I("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var Y="retina";e.magnificPopup.registerModule(Y,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(C("ImageHasSize."+Y,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),C("ElementParse."+Y,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),P()}),function(e,t,n){"use strict";function i(t,m,g){function N(n){var i=0,a=Me.length;if(Ie.old=e.extend({},Ie),Ce=xe?0:be[ve.horizontal?"width":"height"](),Ee=ke[ve.horizontal?"width":"height"](),Se=xe?t:we[ve.horizontal?"outerWidth":"outerHeight"](),Me.length=0,Ie.start=0,Ie.end=B(Se-Ce,0),qe){i=Le.length,Be=we.children(ve.itemSelector),Le.length=0;var r,o=c(we,ve.horizontal?"paddingLeft":"paddingTop"),s=c(we,ve.horizontal?"paddingRight":"paddingBottom"),l="border-box"===e(Be).css("boxSizing"),d="none"!==Be.css("float"),h=0,p=Be.length-1;Se=0,Be.each(function(t,n){var i=e(n),a=n.getBoundingClientRect(),l=M(ve.horizontal?a.width||a.right-a.left:a.height||a.bottom-a.top),u=c(i,ve.horizontal?"marginLeft":"marginTop"),f=c(i,ve.horizontal?"marginRight":"marginBottom"),m=l+u+f,g=!u||!f,v={};v.el=n,v.size=g?l:m,v.half=v.size/2,v.start=Se+(g?u:0),v.center=v.start-M(Ce/2-v.size/2),v.end=v.start-Ce+v.size,t||(Se+=o),Se+=m,ve.horizontal||d||f&&u&&t>0&&(Se-=L(u,f)),t===p&&(v.end+=s,Se+=s,h=g?f:0),Le.push(v),r=v}),we[0].style[ve.horizontal?"width":"height"]=(l?Se:Se-o-s)+"px",Se-=h,Le.length?(Ie.start=Le[0][Re?"center":"start"],Ie.end=Re?r.center:Ce<Se?r.end:Ie.start):Ie.start=Ie.end=0}if(Ie.center=M(Ie.end/2+Ie.start/2),V(),Pe.length&&Ee>0&&(ve.dynamicHandle?(Ae=Ie.start===Ie.end?Ee:M(Ee*Ce/Se),Ae=u(Ae,ve.minHandleSize,Ee),Pe[0].style[ve.horizontal?"width":"height"]=Ae+"px"):Ae=Pe[ve.horizontal?"outerWidth":"outerHeight"](),Oe.end=Ee-Ae,at||D()),!xe&&Ce>0){var f=Ie.start,m="";if(qe)e.each(Le,function(e,t){Re?Me.push(t.center):t.start+t.size>f&&f<=Ie.end&&(f=t.start,Me.push(f),f+=Ce,f>Ie.end&&f<Ie.end+Ce&&Me.push(Ie.end))});else for(;f-Ce<Ie.end;)Me.push(f),f+=Ce;if(ze[0]&&a!==Me.length){for(var g=0;g<Me.length;g++)m+=ve.pageBuilder.call(ye,g);Te=ze.html(m).children(),Te.eq($e.activePage).addClass(ve.activeClass)}}if($e.slideeSize=Se,$e.frameSize=Ce,$e.sbSize=Ee,$e.handleSize=Ae,qe){n&&null!=ve.startAt&&(U(ve.startAt),ye[Fe?"toCenter":"toStart"](ve.startAt));var v=Le[$e.activeItem];_(Fe&&v?v.center:u(Ie.dest,Ie.start,Ie.end))}else n?null!=ve.startAt&&_(ve.startAt,1):_(u(Ie.dest,Ie.start,Ie.end));fe("load")}function _(e,t,n){if(qe&&nt.released&&!n){var i=Y(e),a=e>Ie.start&&e<Ie.end;Fe?(a&&(e=Le[i.centerItem].center),Re&&ve.activateMiddle&&U(i.centerItem)):a&&(e=Le[i.firstItem].start)}nt.init&&nt.slidee&&ve.elasticBounds?e>Ie.end?e=Ie.end+(e-Ie.end)/6:e<Ie.start&&(e=Ie.start+(e-Ie.start)/6):e=u(e,Ie.start,Ie.end),et.start=+new Date,et.time=0,et.from=Ie.cur,et.to=e,et.delta=e-Ie.cur,et.tweesing=nt.tweese||nt.init&&!nt.slidee,et.immediate=!et.tweesing&&(t||nt.init&&nt.slidee||!ve.speed),nt.tweese=0,e!==Ie.dest&&(Ie.dest=e,fe("change"),at||j()),Q(),V(),G(),H()}function j(){if(ye.initialized){if(!at)return at=x(j),void(nt.released&&fe("moveStart"));et.immediate?Ie.cur=et.to:et.tweesing?(et.tweeseDelta=et.to-Ie.cur,O(et.tweeseDelta)<.1?Ie.cur=et.to:Ie.cur+=et.tweeseDelta*(nt.released?ve.swingSpeed:ve.syncSpeed)):(et.time=L(+new Date-et.start,ve.speed),Ie.cur=et.from+et.delta*e.easing[ve.easing](et.time/ve.speed,et.time,0,1,ve.speed)),et.to===Ie.cur?(Ie.cur=et.to,nt.tweese=at=0):at=x(j),fe("move"),xe||(h?we[0].style[h]=p+(ve.horizontal?"translateX":"translateY")+"("+-Ie.cur+"px)":we[0].style[ve.horizontal?"left":"top"]=-M(Ie.cur)+"px"),!at&&nt.released&&fe("moveEnd"),D()}}function D(){Pe.length&&(Oe.cur=Ie.start===Ie.end?0:((nt.init&&!nt.slidee?Ie.dest:Ie.cur)-Ie.start)/(Ie.end-Ie.start)*Oe.end,Oe.cur=u(M(Oe.cur),Oe.start,Oe.end),Je.hPos!==Oe.cur&&(Je.hPos=Oe.cur,h?Pe[0].style[h]=p+(ve.horizontal?"translateX":"translateY")+"("+Oe.cur+"px)":Pe[0].style[ve.horizontal?"left":"top"]=Oe.cur+"px"))}function H(){Te[0]&&Je.page!==$e.activePage&&(Je.page=$e.activePage,Te.removeClass(ve.activeClass).eq($e.activePage).addClass(ve.activeClass),fe("activePage",Je.page))}function R(){tt.speed&&Ie.cur!==(tt.speed>0?Ie.end:Ie.start)||ye.stop(),st=nt.init?x(R):0,tt.now=+new Date,tt.pos=Ie.cur+(tt.now-tt.lastTime)/1e3*tt.speed,_(nt.init?tt.pos:M(tt.pos)),nt.init||Ie.cur!==Ie.dest||fe("moveEnd"),tt.lastTime=tt.now}function F(e,t,i){if("boolean"===a(t)&&(i=t,t=n),t===n)_(Ie[e],i);else{if(Fe&&"center"!==e)return;var r=ye.getPos(t);r&&_(r[e],i,!Fe)}}function q(e){return null!=e?l(e)?e>=0&&e<Le.length?e:-1:Be.index(e):-1}function X(e){return q(l(e)&&e<0?e+Le.length:e)}function U(e,t){var n=q(e);return!(!qe||n<0)&&((Je.active!==n||t)&&(Be.eq($e.activeItem).removeClass(ve.activeClass),Be.eq(n).addClass(ve.activeClass),Je.active=$e.activeItem=n,G(),fe("active",n)),n)}function Y(e){e=u(l(e)?e:Ie.dest,Ie.start,Ie.end);var t={},n=Re?0:Ce/2;if(!xe)for(var i=0,a=Me.length;i<a;i++){if(e>=Ie.end||i===Me.length-1){t.activePage=Me.length-1;break}if(e<=Me[i]+n){t.activePage=i;break}}if(qe){for(var r=!1,o=!1,s=!1,c=0,d=Le.length;c<d;c++)if(r===!1&&e<=Le[c].start+Le[c].half&&(r=c),s===!1&&e<=Le[c].center+Le[c].half&&(s=c),c===d-1||e<=Le[c].end+Le[c].half){o=c;break}t.firstItem=l(r)?r:0,t.centerItem=l(s)?s:t.firstItem,t.lastItem=l(o)?o:t.centerItem}return t}function V(t){e.extend($e,Y(t))}function G(){var e=Ie.dest<=Ie.start,t=Ie.dest>=Ie.end,n=(e?1:0)|(t?2:0);if(Je.slideePosState!==n&&(Je.slideePosState=n,Ze.is("button,input")&&Ze.prop("disabled",e),Qe.is("button,input")&&Qe.prop("disabled",t),Ze.add(Ve)[e?"addClass":"removeClass"](ve.disabledClass),Qe.add(Ye)[t?"addClass":"removeClass"](ve.disabledClass)),Je.fwdbwdState!==n&&nt.released&&(Je.fwdbwdState=n,Ve.is("button,input")&&Ve.prop("disabled",e),Ye.is("button,input")&&Ye.prop("disabled",t)),qe&&null!=$e.activeItem){var i=0===$e.activeItem,a=$e.activeItem>=Le.length-1,r=(i?1:0)|(a?2:0);Je.itemsButtonState!==r&&(Je.itemsButtonState=r,Ge.is("button,input")&&Ge.prop("disabled",i),We.is("button,input")&&We.prop("disabled",a),Ge[i?"addClass":"removeClass"](ve.disabledClass),We[a?"addClass":"removeClass"](ve.disabledClass))}}function W(e,t,n){if(e=X(e),t=X(t),e>-1&&t>-1&&e!==t&&(!n||t!==e-1)&&(n||t!==e+1)){Be.eq(e)[n?"insertAfter":"insertBefore"](Le[t].el);var i=e<t?e:n?t:t-1,a=e>t?e:n?t+1:t,r=e>t;null!=$e.activeItem&&(e===$e.activeItem?Je.active=$e.activeItem=n?r?t+1:t:r?t:t-1:$e.activeItem>i&&$e.activeItem<a&&(Je.active=$e.activeItem+=r?1:-1)),N()}}function Z(e,t){for(var n=0,i=Ke[e].length;n<i;n++)if(Ke[e][n]===t)return n;
return-1}function Q(){nt.released&&!ye.isPaused&&ye.resume()}function K(e){return M(u(e,Oe.start,Oe.end)/Oe.end*(Ie.end-Ie.start))+Ie.start}function J(){nt.history[0]=nt.history[1],nt.history[1]=nt.history[2],nt.history[2]=nt.history[3],nt.history[3]=nt.delta}function ee(e){nt.released=0,nt.source=e,nt.slidee="slidee"===e}function te(t){var n="touchstart"===t.type,i=t.data.source,a="slidee"===i;nt.init||!n&&ae(t.target)||("handle"!==i||ve.dragHandle&&Oe.start!==Oe.end)&&(a&&!(n?ve.touchDragging:ve.mouseDragging&&t.which<2)||(n||r(t),ee(i),nt.init=0,nt.$source=e(t.target),nt.touch=n,nt.pointer=n?t.originalEvent.touches[0]:t,nt.initX=nt.pointer.pageX,nt.initY=nt.pointer.pageY,nt.initPos=a?Ie.cur:Oe.cur,nt.start=+new Date,nt.time=0,nt.path=0,nt.delta=0,nt.locked=0,nt.history=[0,0,0,0],nt.pathToLock=a?n?30:10:0,b.on(n?S:C,ne),ye.pause(1),(a?we:Pe).addClass(ve.draggedClass),fe("moveStart"),a&&(rt=setInterval(J,10))))}function ne(e){if(nt.released="mouseup"===e.type||"touchend"===e.type,nt.pointer=nt.touch?e.originalEvent[nt.released?"changedTouches":"touches"][0]:e,nt.pathX=nt.pointer.pageX-nt.initX,nt.pathY=nt.pointer.pageY-nt.initY,nt.path=z(T(nt.pathX,2)+T(nt.pathY,2)),nt.delta=ve.horizontal?nt.pathX:nt.pathY,nt.released||!(nt.path<1)){if(!nt.init){if(nt.path<ve.dragThreshold)return nt.released?ie():n;if(!(ve.horizontal?O(nt.pathX)>O(nt.pathY):O(nt.pathX)<O(nt.pathY)))return ie();nt.init=1}r(e),!nt.locked&&nt.path>nt.pathToLock&&nt.slidee&&(nt.locked=1,nt.$source.on(k,o)),nt.released&&(ie(),ve.releaseSwing&&nt.slidee&&(nt.swing=(nt.delta-nt.history[0])/40*300,nt.delta+=nt.swing,nt.tweese=O(nt.swing)>10)),_(nt.slidee?M(nt.initPos-nt.delta):K(nt.initPos+nt.delta))}}function ie(){clearInterval(rt),nt.released=!0,b.off(nt.touch?S:C,ne),(nt.slidee?we:Pe).removeClass(ve.draggedClass),setTimeout(function(){nt.$source.off(k,o)}),Ie.cur===Ie.dest&&nt.init&&fe("moveEnd"),ye.resume(1),nt.init=0}function ae(t){return~e.inArray(t.nodeName,E)||e(t).is(ve.interactive)}function re(){ye.stop(),b.off("mouseup",re)}function oe(e){switch(r(e),this){case Ye[0]:case Ve[0]:ye.moveBy(Ye.is(this)?ve.moveBy:-ve.moveBy),b.on("mouseup",re);break;case Ge[0]:ye.prev();break;case We[0]:ye.next();break;case Ze[0]:ye.prevPage();break;case Qe[0]:ye.nextPage()}}function se(e){return it.curDelta=(ve.horizontal?e.deltaY||e.deltaX:e.deltaY)||-e.wheelDelta,it.curDelta/=1===e.deltaMode?3:100,qe?(f=+new Date,it.last<f-it.resetTime&&(it.delta=0),it.last=f,it.delta+=it.curDelta,O(it.delta)<1?it.finalDelta=0:(it.finalDelta=M(it.delta/1),it.delta%=1),it.finalDelta):it.curDelta}function le(e){e.originalEvent[v]=ye;var t=+new Date;if($+ve.scrollHijack>t&&Xe[0]!==document&&Xe[0]!==window)return void($=t);if(ve.scrollBy&&Ie.start!==Ie.end){var n=se(e.originalEvent);(ve.scrollTrap||n>0&&Ie.dest<Ie.end||n<0&&Ie.dest>Ie.start)&&r(e,1),ye.slideBy(ve.scrollBy*n)}}function ce(e){ve.clickBar&&e.target===ke[0]&&(r(e),_(K((ve.horizontal?e.pageX-ke.offset().left:e.pageY-ke.offset().top)-Ae/2)))}function ue(e){if(ve.keyboardNavBy)switch(e.which){case ve.horizontal?37:38:r(e),ye["pages"===ve.keyboardNavBy?"prevPage":"prev"]();break;case ve.horizontal?39:40:r(e),ye["pages"===ve.keyboardNavBy?"nextPage":"next"]()}}function de(e){return ae(this)?void(e.originalEvent[v+"ignore"]=!0):void(this.parentNode!==we[0]||e.originalEvent[v+"ignore"]||ye.activate(this))}function he(){this.parentNode===ze[0]&&ye.activatePage(Te.index(this))}function pe(e){ve.pauseOnHover&&ye["mouseenter"===e.type?"pause":"resume"](2)}function fe(e,t){if(Ke[e]){for(ge=Ke[e].length,A.length=0,me=0;me<ge;me++)A.push(Ke[e][me]);for(me=0;me<ge;me++)A[me].call(ye,e,t)}}if(!(this instanceof i))return new i(t,m,g);var me,ge,ve=e.extend({},i.defaults,m),ye=this,xe=l(t),be=e(t),we=ve.slidee?e(ve.slidee).eq(0):be.children().eq(0),Ce=0,Se=0,Ie={start:0,center:0,end:0,cur:0,dest:0},ke=e(ve.scrollBar).eq(0),Pe=ke.children().eq(0),Ee=0,Ae=0,Oe={start:0,end:0,cur:0},ze=e(ve.pagesBar),Te=0,Me=[],Be=0,Le=[],$e={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},Ne=new d(be[0]),_e=new d(we[0]),je=new d(ke[0]),De=new d(Pe[0]),He="basic"===ve.itemNav,Re="forceCentered"===ve.itemNav,Fe="centered"===ve.itemNav||Re,qe=!xe&&(He||Fe||Re),Xe=ve.scrollSource?e(ve.scrollSource):be,Ue=ve.dragSource?e(ve.dragSource):be,Ye=e(ve.forward),Ve=e(ve.backward),Ge=e(ve.prev),We=e(ve.next),Ze=e(ve.prevPage),Qe=e(ve.nextPage),Ke={},Je={},et={},tt={},nt={released:1},it={last:0,delta:0,resetTime:200},at=0,rt=0,ot=0,st=0;xe||(t=be[0]),ye.initialized=0,ye.frame=t,ye.slidee=we[0],ye.pos=Ie,ye.rel=$e,ye.items=Le,ye.pages=Me,ye.isPaused=0,ye.options=ve,ye.dragging=nt,ye.reload=function(){N()},ye.getPos=function(e){if(qe){var t=q(e);return t!==-1&&Le[t]}var n=we.find(e).eq(0);if(n[0]){var i=ve.horizontal?n.offset().left-we.offset().left:n.offset().top-we.offset().top,a=n[ve.horizontal?"outerWidth":"outerHeight"]();return{start:i,center:i-Ce/2+a/2,end:i-Ce+a,size:a}}return!1},ye.moveBy=function(e){tt.speed=e,!nt.init&&tt.speed&&Ie.cur!==(tt.speed>0?Ie.end:Ie.start)&&(tt.lastTime=+new Date,tt.startPos=Ie.cur,ee("button"),nt.init=1,fe("moveStart"),y(st),R())},ye.stop=function(){"button"===nt.source&&(nt.init=0,nt.released=1)},ye.prev=function(){ye.activate(null==$e.activeItem?0:$e.activeItem-1)},ye.next=function(){ye.activate(null==$e.activeItem?0:$e.activeItem+1)},ye.prevPage=function(){ye.activatePage($e.activePage-1)},ye.nextPage=function(){ye.activatePage($e.activePage+1)},ye.slideBy=function(e,t){e&&(qe?ye[Fe?"toCenter":"toStart"](u((Fe?$e.centerItem:$e.firstItem)+ve.scrollBy*e,0,Le.length)):_(Ie.dest+e,t))},ye.slideTo=function(e,t){_(e,t)},ye.toStart=function(e,t){F("start",e,t)},ye.toEnd=function(e,t){F("end",e,t)},ye.toCenter=function(e,t){F("center",e,t)},ye.getIndex=q,ye.activate=function(e,t){var n=U(e);ve.smart&&n!==!1&&(Fe?ye.toCenter(n,t):n>=$e.lastItem?ye.toStart(n,t):n<=$e.firstItem?ye.toEnd(n,t):Q())},ye.activatePage=function(e,t){l(e)&&_(Me[u(e,0,Me.length-1)],t)},ye.resume=function(e){ve.cycleBy&&ve.cycleInterval&&("items"!==ve.cycleBy||Le[0]&&null!=$e.activeItem)&&!(e<ye.isPaused)&&(ye.isPaused=0,ot?ot=clearTimeout(ot):fe("resume"),ot=setTimeout(function(){switch(fe("cycle"),ve.cycleBy){case"items":ye.activate($e.activeItem>=Le.length-1?0:$e.activeItem+1);break;case"pages":ye.activatePage($e.activePage>=Me.length-1?0:$e.activePage+1)}},ve.cycleInterval))},ye.pause=function(e){e<ye.isPaused||(ye.isPaused=e||100,ot&&(ot=clearTimeout(ot),fe("pause")))},ye.toggle=function(){ye[ot?"pause":"resume"]()},ye.set=function(t,n){e.isPlainObject(t)?e.extend(ve,t):ve.hasOwnProperty(t)&&(ve[t]=n)},ye.add=function(t,n){var i=e(t);qe?(null==n||!Le[0]||n>=Le.length?i.appendTo(we):Le.length&&i.insertBefore(Le[n].el),null!=$e.activeItem&&n<=$e.activeItem&&(Je.active=$e.activeItem+=i.length)):we.append(i),N()},ye.remove=function(t){if(qe){var n=X(t);if(n>-1){Be.eq(n).remove();var i=n===$e.activeItem;null!=$e.activeItem&&n<$e.activeItem&&(Je.active=--$e.activeItem),N(),i&&(Je.active=null,ye.activate($e.activeItem))}}else e(t).remove(),N()},ye.moveAfter=function(e,t){W(e,t,1)},ye.moveBefore=function(e,t){W(e,t)},ye.on=function(e,t){if("object"===a(e))for(var n in e)e.hasOwnProperty(n)&&ye.on(n,e[n]);else if("function"===a(t))for(var i=e.split(" "),r=0,o=i.length;r<o;r++)Ke[i[r]]=Ke[i[r]]||[],Z(i[r],t)===-1&&Ke[i[r]].push(t);else if("array"===a(t))for(var s=0,l=t.length;s<l;s++)ye.on(e,t[s])},ye.one=function(e,t){function n(){t.apply(ye,arguments),ye.off(e,n)}ye.on(e,n)},ye.off=function(e,t){if(t instanceof Array)for(var n=0,i=t.length;n<i;n++)ye.off(e,t[n]);else for(var a=e.split(" "),r=0,o=a.length;r<o;r++)if(Ke[a[r]]=Ke[a[r]]||[],null==t)Ke[a[r]].length=0;else{var s=Z(a[r],t);s!==-1&&Ke[a[r]].splice(s,1)}},ye.destroy=function(){return i.removeInstance(t),Xe.add(Pe).add(ke).add(ze).add(Ye).add(Ve).add(Ge).add(We).add(Ze).add(Qe).off("."+v),b.off("keydown",ue),Ge.add(We).add(Ze).add(Qe).removeClass(ve.disabledClass),Be&&null!=$e.activeItem&&Be.eq($e.activeItem).removeClass(ve.activeClass),ze.empty(),xe||(be.off("."+v),Ne.restore(),_e.restore(),je.restore(),De.restore(),e.removeData(t,v)),Le.length=Me.length=0,Je={},ye.initialized=0,ye},ye.init=function(){if(!ye.initialized){if(i.getInstance(t))throw new Error("There is already a Sly instance on this element");i.storeInstance(t,ye),ye.on(g);var e=["overflow","position"],n=["position","webkitTransform","msTransform","transform","left","top","width","height"];Ne.save.apply(Ne,e),je.save.apply(je,e),_e.save.apply(_e,n),De.save.apply(De,n);var a=Pe;return xe||(a=a.add(we),be.css("overflow","hidden"),h||"static"!==be.css("position")||be.css("position","relative")),h?p&&a.css(h,p):("static"===ke.css("position")&&ke.css("position","relative"),a.css({position:"absolute"})),ve.forward&&Ye.on(P,oe),ve.backward&&Ve.on(P,oe),ve.prev&&Ge.on(k,oe),ve.next&&We.on(k,oe),ve.prevPage&&Ze.on(k,oe),ve.nextPage&&Qe.on(k,oe),Xe.on(I,le),ke[0]&&ke.on(k,ce),qe&&ve.activateOn&&be.on(ve.activateOn+"."+v,"*",de),ze[0]&&ve.activatePageOn&&ze.on(ve.activatePageOn+"."+v,"*",he),Ue.on(w,{source:"slidee"},te),Pe&&Pe.on(w,{source:"handle"},te),b.on("keydown",ue),xe||(be.on("mouseenter."+v+" mouseleave."+v,pe),be.on("scroll."+v,s)),ye.initialized=1,N(!0),ve.cycleBy&&!xe&&ye[ve.startPaused?"pause":"resume"](),ye}}}function a(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof e}function r(e,t){e.preventDefault(),t&&e.stopPropagation()}function o(t){r(t,1),e(this).off(t.type,o)}function s(){this.scrollLeft=0,this.scrollTop=0}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c(e,t){return 0|M(String(e.css(t)).replace(/[^\-0-9.]/g,""))}function u(e,t,n){return e<t?t:e>n?n:e}function d(e){var t={};return t.style={},t.save=function(){if(e&&e.nodeType){for(var n=0;n<arguments.length;n++)t.style[arguments[n]]=e.style[arguments[n]];return t}},t.restore=function(){if(e&&e.nodeType){for(var n in t.style)t.style.hasOwnProperty(n)&&(e.style[n]=t.style[n]);return t}},t}var h,p,f,m="sly",g="Sly",v=m,y=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,x=t.requestAnimationFrame,b=e(document),w="touchstart."+v+" mousedown."+v,C="mousemove."+v+" mouseup."+v,S="touchmove."+v+" touchend."+v,I=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+v,k="click."+v,P="mousedown."+v,E=["INPUT","SELECT","BUTTON","TEXTAREA"],A=[],O=Math.abs,z=Math.sqrt,T=Math.pow,M=Math.round,B=Math.max,L=Math.min,$=0;b.on(I,function(e){var t=e.originalEvent[v],n=+new Date;(!t||t.options.scrollHijack<n-$)&&($=n)}),i.getInstance=function(t){return e.data(t,v)},i.storeInstance=function(t,n){return e.data(t,v,n)},i.removeInstance=function(t){return e.removeData(t,v)},function(e){function t(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-n)),a=setTimeout(e,i);return n=t,a}x=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t;var n=(new Date).getTime(),i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;y=function(t){i.call(e,t)}}(window),function(){function e(e){for(var i=0,a=t.length;i<a;i++){var r=t[i]?t[i]+e.charAt(0).toUpperCase()+e.slice(1):e;if(null!=n.style[r])return r}}var t=["","Webkit","Moz","ms","O"],n=document.createElement("div");h=e("transform"),p=e("perspective")?"translateZ(0) ":""}(),t[g]=i,e.fn[m]=function(t,n){var r,o;return e.isPlainObject(t)||("string"!==a(t)&&t!==!1||(r=t===!1?"destroy":t,o=Array.prototype.slice.call(arguments,1)),t={}),this.each(function(e,a){var s=i.getInstance(a);s||r?s&&r&&s[r]&&s[r].apply(s,o):s=new i(a,t,n).init()})},i.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(e){return"<li>"+(e+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},plugins:{},svgPath:null},function(e,t,n,i){"use strict";i.fn.trumbowyg=function(e,t){var n="trumbowyg";if(e===Object(e)||!e)return this.each(function(){i(this).data(n)||i(this).data(n,new a(this,e))});if(1===this.length)try{var r=i(this).data(n);switch(e){case"execCmd":return r.execCmd(t.cmd,t.param,t.forceCss);case"openModal":return r.openModal(t.title,t.content);case"closeModal":return r.closeModal();case"openModalInsert":return r.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return r.saveRange();case"getRange":return r.range;case"getRangeText":return r.getRangeText();case"restoreRange":return r.restoreRange();case"enable":return r.toggleDisable(!1);case"disable":return r.toggleDisable(!0);case"destroy":return r.destroy();case"empty":return r.empty();case"html":return r.html(t)}}catch(e){}return!1};var a=function(e,a){var r=this,o="trumbowyg-icons";r.doc=e.ownerDocument||n,r.$ta=i(e),r.$c=i(e),a=a||{},null!=a.lang||null!=i.trumbowyg.langs[a.lang]?r.lang=i.extend(!0,{},i.trumbowyg.langs.en,i.trumbowyg.langs[a.lang]):r.lang=i.trumbowyg.langs.en;var s=null!=i.trumbowyg.svgPath?i.trumbowyg.svgPath:a.svgPath;if(r.hasSvg=s!==!1,r.svgPath=r.doc.querySelector("base")?t.location:"",0===i("#"+o,r.doc).length&&s!==!1){if(null==s)try{throw new Error}catch(e){var l=e.stack.split("\n");for(var c in l)if(l[c].match(/http[s]?:\/\//)){s=l[Number(c)].match(/((http[s]?:\/\/.+\/)([^\/]+\.js)):/)[1].split("/"),s.pop(),s=s.join("/")+"/ui/icons.svg";break}}var u=r.doc.createElement("div");u.id=o,r.doc.body.insertBefore(u,r.doc.body.childNodes[0]),i.get(s,function(e){u.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)})}var d=r.lang.header,h=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};r.btnsDef={viewHTML:{fn:"toggle"},undo:{isSupported:h,key:"Z"},redo:{isSupported:h,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B"},italic:{key:"I"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},r.o=i.extend(!0,{},{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]},btns:[["viewHTML"],["undo","redo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify","btnGrp-lists",["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],imgDblClickHandler:function(){var e=i(this),t=e.attr("src"),n="(Base64)";return 0===t.indexOf("data:image")&&(t=n),r.openModalInsert(r.lang.insertImage,{url:{label:"URL",value:t,required:!0},alt:{label:r.lang.description,value:e.attr("alt")}},function(t){return t.src!==n&&e.attr({src:t.src}),e.attr({alt:t.alt}),!0}),!1},plugins:{}},a),r.disabled=r.o.disabled||"TEXTAREA"===e.nodeName&&e.disabled,a.btns?r.o.btns=a.btns:r.o.semantic||(r.o.btns[4]="btnGrp-design"),i.each(r.o.btnsDef,function(e,t){r.addBtnDef(e,t)}),r.keys=[],r.tagToButton={},r.tagHandlers=[],r.pasteHandlers=[].concat(r.o.pasteHandlers),r.init()};a.prototype={init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins(),e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p"),e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(function(){e.disabled&&e.toggleDisable(!0),e.$c.trigger("tbwinit")})},addBtnDef:function(e,t){this.btnsDef[e]=t},buildEditor:function(){var e=this,n=e.o.prefix,a="";e.$box=i("<div/>",{class:n+"box "+n+"editor-visible "+n+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(a=e.$ta.val(),e.$ed=i("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,a=e.$ed.html(),e.$ta=i("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(a),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(n+"textarea").attr("tabindex",-1),e.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(a),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.o.resetCss&&e.$ed.addClass(n+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode(),e._ctrl=!1,e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",function(t){if(e._composition=229===t.which,t.ctrlKey){e._ctrl=!0;var n=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(n.fn,n.param),!1}catch(e){}}}).on("keyup",function(t){t.which>=37&&t.which<=40||(!t.ctrlKey||89!==t.which&&90!==t.which?e._ctrl||17===t.which||e._composition||(e.semanticCode(!1,13===t.which),e.$c.trigger("tbwchange")):e.$c.trigger("tbwchange"),setTimeout(function(){e._ctrl=!1},200))}).on("mouseup keydown keyup",function(){e.updateButtonPaneStatus()}).on("focus blur",function(t){e.$c.trigger("tbw"+t.type),"blur"===t.type&&i("."+n+"active-button",e.$btnPane).removeClass(n+"active-button "+n+"active")}).on("cut",function(){e.$c.trigger("tbwchange")}).on("paste",function(n){if(e.o.removeformatPasted){n.preventDefault();try{var a=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(a)}catch(t){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(a))}}catch(t){e.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}i.each(e.pasteHandlers,function(e,t){t(n)}),setTimeout(function(){e.o.semantic?e.semanticCode(!1,!0):e.syncCode(),e.$c.trigger("tbwpaste",n)},0)}),e.$ta.on("keyup paste",function(){e.$c.trigger("tbwchange")}),i(e.doc).on("keydown",function(t){if(27===t.which)return e.closeModal(),!1})},buildBtnPane:function(){var e=this,t=e.o.prefix,n=e.$btnPane=i("<div/>",{class:t+"button-pane"});i.each(e.o.btns,function(a,r){try{var o=r.split("btnGrp-");null!=o[1]&&(r=e.o.btnsGrps[o[1]])}catch(e){}i.isArray(r)||(r=[r]);var s=i("<div/>",{class:t+"button-group "+(r.indexOf("fullscreen")>=0?t+"right":"")});i.each(r,function(t,n){try{var i;e.isSupportedBtn(n)&&(i=e.buildBtn(n)),s.append(i)}catch(e){}}),n.append(s)}),e.$box.prepend(n)},buildBtn:function(e){var t=this,n=t.o.prefix,a=t.btnsDef[e],r=a.dropdown,o=t.lang[e]||e,s=i("<button/>",{type:"button",class:n+e+"-button "+(a.class||""),html:t.hasSvg?'<svg><use xlink:href="'+t.svgPath+"#"+n+(a.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':"",title:(a.title||a.text||o)+(a.key?" (Ctrl + "+a.key+")":""),tabindex:-1,mousedown:function(){return r&&!i("."+e+"-"+n+"dropdown",t.$box).is(":hidden")||i("body",t.doc).trigger("mousedown"),!(t.$btnPane.hasClass(n+"disable")&&!i(this).hasClass(n+"active")&&!i(this).hasClass(n+"not-disable"))&&(t.execCmd(!!r&&"dropdown"||a.fn||e,a.param||e,a.forceCss||!1),!1)}});if(r){s.addClass(n+"open-dropdown");var l=n+"dropdown",c=i("<div/>",{class:l+"-"+e+" "+l+" "+n+"fixed-top","data-dropdown":e});i.each(r,function(e,n){t.btnsDef[n]&&t.isSupportedBtn(n)&&c.append(t.buildSubBtn(n))}),t.$box.append(c.hide())}else a.key&&(t.keys[a.key]={fn:a.fn||e,param:a.param||e});return r||(t.tagToButton[(a.tag||e).toLowerCase()]=e),s},buildSubBtn:function(e){var t=this,n=t.o.prefix,a=t.btnsDef[e];return a.key&&(t.keys[a.key]={fn:a.fn||e,param:a.param||e}),t.tagToButton[(a.tag||e).toLowerCase()]=e,i("<button/>",{type:"button",class:n+e+"-dropdown-button"+(a.ico?" "+n+a.ico+"-button":""),html:t.hasSvg?'<svg><use xlink:href="'+t.svgPath+"#"+n+(a.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(a.text||a.title||t.lang[e]||e):"",title:a.key?" (Ctrl + "+a.key+")":null,style:a.style||null,mousedown:function(){return i("body",t.doc).trigger("mousedown"),t.execCmd(a.fn||e,a.param||e,a.forceCss||!1),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(e){}return!0},buildOverlay:function(){var e=this;return e.$overlay=i("<div/>",{class:e.o.prefix+"overlay"}).css({top:e.$btnPane.outerHeight(),height:e.$ed.outerHeight()+1+"px"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;i(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,a=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,i(t).on("scroll resize",function(){if(a){e.syncCode();var r=i(t).scrollTop(),o=a.offset().top+1,s=e.$btnPane,l=s.outerHeight()-2;r-o>0&&r-o-e.height<0?(e.isFixed||(e.isFixed=!0,s.css({position:"fixed",top:0,left:n?"0":"auto",zIndex:7}),i([e.$ta,e.$ed]).css({marginTop:s.height()})),s.css({width:n?"100%":a.width()-1+"px"}),i("."+e.o.prefix+"fixed-top",a).css({position:n?"fixed":"absolute",top:n?l:l+(r-o)+"px",zIndex:15})):e.isFixed&&(e.isFixed=!1,s.removeAttr("style"),i([e.$ta,e.$ed]).css({marginTop:0}),i("."+e.o.prefix+"fixed-top",a).css({position:"absolute",top:l}))}}))},toggleDisable:function(e){var t=this,n=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(n+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,t=e.o.prefix,n=e.height;e.isTextarea?e.$box.after(e.$ta.css({height:n}).val(e.html()).removeClass(t+"textarea").show()):e.$box.after(e.$ed.css({height:n}).removeClass(t+"editor").removeAttr("contenteditable").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),i("body").removeClass(t+"body-fullscreen")},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.semanticCode(!1,!0),setTimeout(function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),i("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex")},0)},dropdown:function(e){var n=this,a=n.doc,r=n.o.prefix,o=i("[data-dropdown="+e+"]",n.$box),s=i("."+r+e+"-button",n.$btnPane),l=o.is(":hidden");if(i("body",a).trigger("mousedown"),l){var c=s.offset().left;s.addClass(r+"active"),o.css({position:"absolute",top:s.offset().top-n.$btnPane.offset().top+s.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?c+"px":c-n.$btnPane.offset().left+"px"}).show(),i(t).trigger("scroll"),i("body",a).on("mousedown",function(){i("."+r+"dropdown",a).hide(),i("."+r+"active",a).removeClass(r+"active"),i("body",a).off("mousedown")})}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find("hr,img,embed,input").length>0?e.$ed.html():"")},syncCode:function(e){var t=this;!e&&t.$ed.is(":visible")?t.syncTextarea():t.$ed.html(t.$ta.val()),t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize")))},semanticCode:function(e,t){var n=this;if(n.saveRange(),n.syncCode(e),i(n.o.tagsToRemove.join(","),n.$ed).remove(),n.o.semantic){if(n.semanticTag("b","strong"),n.semanticTag("i","em"),n.semanticTag("strike","del"),t){var a=n.o.inlineElementsSelector,r=":not("+a+")";n.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var o=function(e){if(0!==e.length){var t=e.nextUntil(r).andSelf().wrapAll("<p/>").parent(),n=t.nextAll(a).first();t.next("br").remove(),o(n)}};o(n.$ed.children(a).first()),n.semanticTag("div","p",!0),n.$ed.find("p").filter(function(){return(!n.range||this!==n.range.startContainer)&&(0===i(this).text().trim().length&&0===i(this).children().not("br,span").length)}).contents().unwrap(),i("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}n.restoreRange(),n.syncTextarea()}},semanticTag:function(e,t,n){i(e,this.$ed).each(function(){var e=i(this);e.wrap("<"+t+"/>"),n&&i.each(e.prop("attributes"),function(){e.parent().attr(this.name,this.value)}),e.contents().unwrap()})},createLink:function(){for(var e,t,n,a=this,r=a.doc.getSelection(),o=r.focusNode;["A","DIV"].indexOf(o.nodeName)<0;)o=o.parentNode;if(o&&"A"===o.nodeName){var s=i(o);e=s.attr("href"),t=s.attr("title"),n=s.attr("target");var l=a.doc.createRange();l.selectNode(o),r.addRange(l)}a.saveRange(),a.openModalInsert(a.lang.createLink,{url:{label:"URL",required:!0,value:e},title:{label:a.lang.title,value:t},text:{label:a.lang.text,value:a.getRangeText()},target:{label:a.lang.target,value:n}},function(e){var t=i(['<a href="',e.url,'">',e.text,"</a>"].join(""));return e.title.length>0&&t.attr("title",e.title),e.target.length>0&&t.attr("target",e.target),a.range.deleteContents(),a.range.insertNode(t[0]),!0})},unlink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var i=e.doc.createRange();i.selectNode(n),t.addRange(i)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange(),e.openModalInsert(e.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}},function(t){return e.execCmd("insertImage",t.url),i('img[src="'+t.url+'"]:not([alt])',e.$box).attr("alt",t.alt),!0})},fullscreen:function(){var e,n=this,a=n.o.prefix,r=a+"fullscreen";n.$box.toggleClass(r),e=n.$box.hasClass(r),i("body").toggleClass(a+"body-fullscreen",e),i(t).trigger("scroll"),n.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(t,n,i,a){var r=this;a=!!a||"","dropdown"!==t&&r.$ed.focus(),r.doc.execCommand("styleWithCSS",!1,i||!1);try{r[t+a](n)}catch(i){try{t(n)}catch(i){"insertHorizontalRule"===t?n=void 0:"formatBlock"!==t||e.userAgent.indexOf("MSIE")===-1&&e.appVersion.indexOf("Trident/")===-1||(n="<"+n+">"),r.doc.execCommand(t,!1,n),r.syncCode(),r.semanticCode(!1,!0)}"dropdown"!==t&&(r.updateButtonPaneStatus(),r.$c.trigger("tbwchange"))}},openModal:function(e,n){var a=this,r=a.o.prefix;if(i("."+r+"modal-box",a.$box).length>0)return!1;a.saveRange(),a.showOverlay(),a.$btnPane.addClass(r+"disable");var o=i("<div/>",{class:r+"modal "+r+"fixed-top"}).css({top:a.$btnPane.height()}).appendTo(a.$box);a.$overlay.one("click",function(){return o.trigger("tbwcancel"),!1});var s=i("<form/>",{action:"",html:n}).on("submit",function(){return o.trigger("tbwconfirm"),!1}).on("reset",function(){return o.trigger("tbwcancel"),!1}),l=i("<div/>",{class:r+"modal-box",html:s}).css({top:"-"+a.$btnPane.outerHeight()+"px",opacity:0}).appendTo(o).animate({top:0,opacity:1},100);return i("<span/>",{text:e,class:r+"modal-title"}).prependTo(l),o.height(l.outerHeight()+10),i("input:first",l).focus(),a.buildModalBtn("submit",l),a.buildModalBtn("reset",l),i(t).trigger("scroll"),o},buildModalBtn:function(e,t){var n=this,a=n.o.prefix;return i("<button/>",{class:a+"modal-button "+a+"modal-"+e,type:e,text:n.lang[e]||e}).appendTo(i("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var n=i("."+t+"modal-box",e.$box);n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),e.hideOverlay()}),e.restoreRange()},openModalInsert:function(e,t,n){var a=this,r=a.o.prefix,o=a.lang,s="",l="tbwconfirm";return i.each(t,function(e,t){var n=t.label,i=t.name||e;s+='<label><input type="'+(t.type||"text")+'" name="'+i+'" value="'+(t.value||"").replace(/"/g,"&quot;")+'"><span class="'+r+'input-infos"><span>'+(n?o[n]?o[n]:n:o[e]?o[e]:e)+"</span></span></label>"}),a.openModal(e,s).on(l,function(){var e=i("form",i(this)),r=!0,o={};i.each(t,function(t,n){var s=i('input[name="'+t+'"]',e);o[t]=i.trim(s.val()),n.required&&""===o[t]?(r=!1,a.addErrorOnModalField(s,a.lang.required)):n.pattern&&!n.pattern.test(o[t])&&(r=!1,a.addErrorOnModalField(s,n.patternError))}),r&&(a.restoreRange(),n(o,t)&&(a.syncCode(),a.$c.trigger("tbwchange"),a.closeModal(),i(this).off(l)))}).one("tbwcancel",function(){i(this).off(l),a.closeModal()})},addErrorOnModalField:function(e,t){var n=this.o.prefix,a=e.parent();e.on("change keyup",function(){a.removeClass(n+"input-error")}),a.addClass(n+"input-error").find("input+span").append(i("<span/>",{class:n+"msg-error",text:t}))},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t.rangeCount){var n,i=e.range=t.getRangeAt(0),a=e.doc.createRange();a.selectNodeContents(e.$ed[0]),a.setEnd(i.startContainer,i.startOffset),n=(a+"").length,e.metaRange={start:n,end:n+(i+"").length}}},restoreRange:function(){var e,t=this,n=t.metaRange,i=t.range,a=t.doc.getSelection();if(i){if(n&&n.start!==n.end){var r,o=0,s=[t.$ed[0]],l=!1,c=!1;for(e=t.doc.createRange();!c&&(r=s.pop());)if(3===r.nodeType){var u=o+r.length;!l&&n.start>=o&&n.start<=u&&(e.setStart(r,n.start-o),l=!0),l&&n.end>=o&&n.end<=u&&(e.setEnd(r,n.end-o),c=!0),o=u}else for(var d=r.childNodes,h=d.length;h>0;)h-=1,s.push(d[h])}a.removeAllRanges(),a.addRange(e||i)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=e.getTagsRecursive(e.doc.getSelection().focusNode.parentNode),a=t+"active-button "+t+"active";i("."+t+"active-button",e.$btnPane).removeClass(a),i.each(n,function(n,r){var o=e.tagToButton[r.toLowerCase()],s=i("."+t+o+"-button",e.$btnPane);if(s.length>0)s.addClass(a);else try{s=i("."+t+"dropdown ."+t+o+"-dropdown-button",e.$box);var l=s.parent().data("dropdown");i("."+t+l+"-button",e.$box).addClass(a)}catch(e){}})},getTagsRecursive:function(e,t){var n=this;t=t||[];var a=e.tagName;return"DIV"===a?t:("P"===a&&""!==e.style.textAlign&&t.push(e.style.textAlign),i.each(n.tagHandlers,function(i,a){t=t.concat(a(e,n))}),t.push(a),n.getTagsRecursive(e.parentNode,t))},initPlugins:function(){var e=this;e.loadedPlugins=[],i.each(i.trumbowyg.plugins,function(t,n){n.shouldInit&&!n.shouldInit(e)||(n.init(e),n.tagHandler&&e.tagHandlers.push(n.tagHandler),
e.loadedPlugins.push(n))})},destroyPlugins:function(){i.each(this.loadedPlugins,function(e,t){t.destroy&&t.destroy()})}}}(navigator,window,document,jQuery),function(e,t,n,i){"use strict";e.App=e.App||function(){var e=t,n=[],i={any:function(){e(".button-save").on("click",function(t){t.preventDefault(),e(".button-submit-hidden").click()})},header:function(){console.log("navigation"),e(".nav-element").on("click",function(t){console.log("click!"),window.location.href=e(this).find("a").attr("href")})}},a={save:function(t){e(".module-view").append('<div class="notification save"><p><span class="icon dashicons dashicons-yes"></span>'+t.title+"</p><p>"+t.subtitle+"</p></div>"),setTimeout(function(){e(".notification.save").fadeOut(300,function(){e(this).remove()})},25e4)}},r={any:function(){},gallery:function(){var t=null,i=function(){e(".gallery-image-wrapper, .view-image-upload-box").hover(function(){e(this).find(".gallery-image-controls").fadeIn(300)},function(){e(this).find(".gallery-image-controls").fadeOut(300)})},a=function(){e(".view-metafield[data-view-metafield=gallery] .gallery-image-wrapper").magnificPopup({delegate:".gallery-image-link",tLoading:"Loading image #%curr%...",type:"image",gallery:{enabled:!0}})},r=function(){for(var t=e(".gallery-frame"),n=0,i=t.length;n<i;n++){var a=t.eq(n).attr("id");o(a)}},o=function(e){t=new Sly("#"+e,{horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBy:0,speed:300,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1},function(){}).init(),n.push({slider:t,id:e}),l()},s=function(){for(var t=e(".gallery-frame"),i=0,a=t.length;i<a;i++)n[i].slider.destroy(),t.eq(i).attr("id",n[i].id),o(n[i].id)},l=function(){for(var t=e(".gallery-frame"),n=10,i=0,a=t.length;i<a;i++){var r=t.eq(i).find("ul"),o=r.width();o+=n,r.css({width:o+"px"})}};setTimeout(function(){try{console.log("init"),r()}catch(e){console.log("reload"),s()}},100),i(),a()},image_upload:function(){var t=function(){e(".view-metafield[data-view-metafield=image_upload] .gallery-image-link").magnificPopup({type:"image"})};t()},map:function(){e(".button-open-map-settings").on("click",function(t){t.preventDefault();var n="false"!==e(this).attr("data-control-opened");e(".map-controls").addClass("active"),n?(e(this).parent().removeClass("active"),e(this).attr("data-control-opened",!1)):(e(this).parent().addClass("active"),e(this).attr("data-control-opened",!0))})}},o={any:function(){},activity:function(){var t=e(".widget-activity-posts-pie-chart").data("chart-data"),n=(e(".widget-activity-videos-pie-chart").data("chart-data"),e(".widget-activity-pages-pie-chart").data("chart-data")),i=parseInt(t.publish),a=parseInt(t.draft),r=parseInt(t.trash),o=i+a+r,s=parseInt(n.publish),l=parseInt(n.draft),c=parseInt(n.trash),u=s+l+c,d=100*i/o,h=100*a/o,p=100*r/o,f=100*s/u,m=100*l/u,g=100*c/u,v={labels:[],series:[]};i>0&&(v.labels.push(d.toFixed(2)+"%"),v.series.push({value:i,className:"chart-publish-posts"})),a>0&&(v.labels.push(h.toFixed(2)+"%"),v.series.push({value:a,className:"chart-draft-posts"})),r>0&&(v.labels.push(p.toFixed(2)+"%"),v.series.push({value:r,className:"chart-trash-posts"}));var y={labels:[],series:[]};s>0&&(y.labels.push(f.toFixed(2)+"%"),y.series.push({value:s,className:"chart-publish-posts"})),l>0&&(y.labels.push(m.toFixed(2)+"%"),y.series.push({value:l,className:"chart-draft-posts"})),c>0&&(y.labels.push(g.toFixed(2)+"%"),y.series.push({value:c,className:"chart-trash-posts"})),new Chartist.Pie(".widget-activity-posts-pie-chart",v,{}),new Chartist.Pie(".widget-activity-pages-pie-chart",y,{})},statistics:function(){},plugins:function(){console.log("Widget [plugins] initialized!")}},s=function(t){var n="view-"+t,a=e("."+n),s=i;switch(t){case"component":s=i;break;case"widget":s=o;break;case"metafield":s=r}s.any();for(var l=0,c=a.length;l<c;l++){var u=a.eq(l).data(n);s.hasOwnProperty(u)&&s[u]()}},l=function(){s("component"),s("widget"),s("metafield")},c=function(e,t){switch(e){case"component":i.hasOwnProperty(t)&&i[t]();break;case"widget":o.hasOwnProperty(t)&&o[t]();break;case"metafield":r.hasOwnProperty(t)&&r[t]()}},u=function(e,t){switch(e){case"save":a.save(t)}};return{init:l,start:c,notify:u}}()}(jQuery.themeOptions=jQuery.themeOptions||{},jQuery,document),jQuery(document).ready(function(e){e.themeOptions.App.init()});